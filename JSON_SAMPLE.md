# JSON読み込みテスト用サンプル

## 正しいJSON形式の例

```json
[
  {
    "speaker": "maron",
    "message": "こんにちは！今日は論文の読み方についてお話ししましょう。",
    "position": "left"
  },
  {
    "speaker": "ichi",
    "message": "はい、学長！論文を読むのは難しいですよね。",
    "position": "right"
  },
  {
    "speaker": "maron",
    "message": "そうですね。でも、コツさえつかめば誰でも読めるようになりますよ。",
    "position": "left"
  }
]
```

## よくある問題のあるJSON例

### 1. 全角文字が混在している例
```json
[
  {
    "speaker": "maron",
    "message": "こんにちは！今日は論文の読み方についてお話ししましょう。",
    "position": "left"
  }
]
```

### 2. スマートクォートが使用されている例
```json
[
  {
    "speaker": "maron",
    "message": "こんにちは！今日は論文の読み方についてお話ししましょう。",
    "position": "left"
  }
]
```

### 3. 改行文字が混在している例
```json
[
  {
    "speaker": "maron",
    "message": "こんにちは！\r\n今日は論文の読み方についてお話ししましょう。",
    "position": "left"
  }
]
```

## 使用可能なspeaker値

- `maron` - マロン学長
- `ichi` - いち教授  
- `hachi` - はち助教授
- `jiji` - ジジ助手
- `daifuku` - 大福先代学長

## 使用可能なposition値

- `left` - 左側に表示（デフォルト）
- `right` - 右側に表示

## テスト方法

1. 管理画面でエピソードを編集
2. 「会話データ」フィールドに上記のJSONをコピー&ペースト
3. 保存してページを確認
4. 開発者モード（WP_DEBUG=true）でデバッグ情報を確認

## トラブルシューティング

### JSONが読み込まれない場合

1. **全角文字の確認**: コロン（：）やカンマ（，）が全角になっていないか
2. **クォートの確認**: スマートクォート（""）ではなく通常のクォート（""）を使用
3. **改行文字の確認**: 改行が正しく処理されているか
4. **構造の確認**: 配列の開始と終了が正しいか

### デバッグ情報の確認

開発者モードでアクセスすると、詳細なデバッグ情報が表示されます：

- JSON形式の検証結果
- 構造の検証結果  
- エラーの詳細
- 処理後のデータプレビュー
